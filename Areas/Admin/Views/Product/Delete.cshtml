@model CuaHangBanSach.Models.Product

@{
    ViewData["Title"] = "X√°c nh·∫≠n xo√° s·∫£n ph·∫©m";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="container py-4">
    <h2 class="text-danger text-center mb-4">B·∫°n c√≥ ch·∫Øc mu·ªën xo√° s·∫£n ph·∫©m n√†y?</h2>

    <div class="card mb-4 shadow-sm">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="@(!string.IsNullOrEmpty(Model.ImageUrl) ? Model.ImageUrl : Url.Content("~/images/no-image.png"))"
                     class="img-fluid rounded-start" alt="@Model.Name" />
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title">@Model.Name</h5>
                    <p class="text-muted">@Model.Description</p>
                    <p class="h5 text-primary">Gi√°: @string.Format("{0:N0} VND", Model.Price)</p>

                    <p><strong>Th·ªÉ lo·∫°i:</strong> @Model.Category?.Name</p>
                    <p><strong>Nh√† xu·∫•t b·∫£n:</strong> @Model.Brand?.Name</p>

                    @if (Model.Images != null && Model.Images.Any())
                    {
                        <div class="mt-3">
                            <h6 class="fw-bold">·∫¢nh ph·ª•:</h6>
                            <div class="d-flex flex-wrap">
                                @foreach (var img in Model.Images)
                                {
                                    <img src="@img.Url" alt="·∫¢nh ph·ª•" class="img-thumbnail m-1"
                                         style="max-width: 100px; max-height: 100px;" />
                                }
                            </div>
                        </div>
                    }

                    @if (Model.Variants != null && Model.Variants.Any())
                    {
                        <div class="mt-4">
                            <h6 class="fw-bold text-danger">Bi·∫øn th·ªÉ s·∫£n ph·∫©m:</h6>
                            <table class="table table-bordered table-sm text-center">
                                <thead class="table-light">
                                    <tr>
                                        <th>Phi√™n b·∫£n</th>
                                        <th>Ph√¢n lo·∫°i</th>
                                        <th>T·ªìn kho</th>
                                        <th>·∫¢nh</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var variant in Model.Variants)
                                    {
                                        <tr>
                                            <td>@variant.Color</td>
                                            <td>@variant.Size</td>
                                            <td>@variant.StockQuantity</td>
                                            <td>
                                                @if (!string.IsNullOrEmpty(variant.ImageUrl))
                                                {
                                                    <img src="@variant.ImageUrl" class="img-thumbnail" style="max-height: 60px;" />
                                                }
                                                else
                                                {
                                                    <span class="text-muted">Kh√¥ng c√≥</span>
                                                }
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    <form asp-area="Admin" asp-controller="Product" asp-action="DeleteConfirmed" method="post">
        <input type="hidden" asp-for="Id" />
        <div class="d-flex justify-content-center mt-3">
            <button type="submit" class="btn btn-danger px-4 me-3">
                üóëÔ∏è Xo√° to√†n b·ªô s·∫£n ph·∫©m
            </button>
            <a asp-action="Index" class="btn btn-secondary px-4">‚Üê Hu·ª∑</a>
        </div>
    </form>
</div>